{"pageProps":{"meta":{"title":"使用pandoc转换md为PDF并添加中文支持","date":"2018-02-07 08:00","tags":["markdowns"],"categories":"工具","description":"使用pandoc转换md为PDF并添加中文支持","keywords":"pandoc, PDF, PDF转换,markdown转PDF"},"content":"\r\n由于最近需要把markdown文件导出为pdf并且需要用到latex的行内的数学公式，只用typora无法做到，于是开始使用pandoc。问题是pandoc中在从md转pdf的时候需要手动设置中文，否则会有转换问题。这个坑查了很久，最终从一个pandoc模板里得到了解决方法。\r\n\r\n系统：macOS 10.13.2\r\n\r\n## 基本操作\r\n\r\n准备：需要先安装[HomeBrew](https://brew.sh/index_zh-cn.html)\r\n\r\n1. 安装pandoc\r\n\r\n```bash\r\nbrew install pandoc\r\n```\r\n\r\n1. 安装texlive，支持latex\r\n\r\n```bash\r\nbrew cask install mactex\r\n```\r\n\r\n1. 导出pandoc转换为时的latex默认模板\r\n\r\n```bash\r\npandoc -D latex > template.latex\r\n```\r\n\r\n1. 在template.latex里添加中文字体支持\r\n\r\n```\r\n\\usepackage{fontspec}   % 允許設定字體\r\n  \\usepackage{xeCJK}    % 分開設置中英文字型\r\n  \\setCJKmainfont{SimSun}   % 設定中文字型\r\n  \\setmainfont{Helvetical}  % 設定英文字型\r\n  \\setromanfont{Helvetical}   % 字型\r\n  \\setmonofont{Courier New}\r\n  \\linespread{1.2}\\selectfont   % 行距\r\n```\r\n\r\n1. 使用模板把md转换为pdf\r\n\r\n```bash\r\npandoc --pdf-engine=xelatex --template=[template.latex的路径] newfile.md -o newfile.pdf\r\n```\r\n\r\n## pandoc的默认使用的模板路径\r\n\r\n在mac os下，在～/.pandoc/templates文件夹里。没有的话要手动创建的。\r\n\r\n```bash\r\ncd ~\r\nmkdir -p ~/.pandoc/templates\r\n```\r\n\r\n导出latex的默认模板至默认的模板路径\r\n\r\n```bash\r\npandoc -D latex &gt; ~/.pandoc/templates/default.latex\r\n```\r\n\r\n在default.latex里添加中文字体支持\r\n\r\n```\r\n\\usepackage{fontspec}   % 允許設定字體\r\n  \\usepackage{xeCJK}    % 分開設置中英文字型\r\n  \\setCJKmainfont{SimSun}   % 設定中文字型\r\n  \\setmainfont{Vollkorn}  % 設定英文字型\r\n  \\setromanfont{Vollkorn}   % 字型\r\n  \\setmonofont{Courier New}\r\n  \\linespread{1.2}\\selectfont   % 行距\r\n```\r\n\r\n这样下来转换的时候不使用指定的template，使用的就是default模板。例如\r\n\r\n```bash\r\npandoc --pdf-engine=xelatex newfile.md -o newfile.pdf\r\n```","excerpt":" 由于最近需要把markdown文件导出为pdf并且需要用到latex的行内的数学公式，只用typora无法做到，于是开始使用pandoc。问题是pandoc中在从md转pdf的时候需要手动设置中文，否则会有转换问题。这个坑查了很久，最终从一个pandoc模板里得到了解决方法。  系统：","prevPost":{"title":"B站反查用户弹幕小记","link":"/posts/B站反查用户弹幕小记"},"nextPost":{"title":"Welcome to sansui's blog","link":"/posts/welcome"},"headings":[]},"__N_SSG":true}