(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[646],{889:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8314:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},3127:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},1352:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]])},4822:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("MenuSquare",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 8h10",key:"1jw688"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M7 16h10",key:"wp8him"}]])},3542:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]])},8999:function(n,e,t){"use strict";t.d(e,{Z:function(){return r}});var i=t(3326);let r=(0,i.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6512:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[id]",function(){return t(2425)}])},2425:function(n,e,t){"use strict";t.r(e),t.d(e,{__N_SSG:function(){return N},default:function(){return Post}});var i=t(1262),r=t(1527),o=t(3542),a=t(1352),s=t(3326);let c=(0,s.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var l=t(4822);let d=(0,s.Z)("ArrowUpToLine",[["path",{d:"M5 3h14",key:"7usisc"}],["path",{d:"m18 13-6-6-6 6",key:"1kf1n9"}],["path",{d:"M12 7v14",key:"1akyts"}]]);var p=t(8999),m=t(5849),h=t.n(m),u=t(3522),f=t.n(u),g=t(1557),x=t.n(g),b=t(3638),j=t(959),y=t(8598),w=t(4085),v=t(8607),_=t(889),k=t(8314);function _templateObject(){let n=(0,i._)(["\n  margin: 64px 0;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  align-items: center;\n\n  & > span {\n    color: ",";\n    font-size: 0.875rem;\n  }\n"]);return _templateObject=function(){return n},n}function _templateObject1(){let n=(0,i._)(["\n  padding: .2em 0;\n  display: flex;\n  align-items: center;\n  position: relative;\n  \n  svg {\n    transform: translateY(-0.05em);\n  }\n\n  span {\n    position: relative;\n  }\n\n  span::before {\n    content: '';\n    position: absolute;\n    left: 0;\n    bottom: 0;\n    width: 0;\n    height: 2px;\n    border-radius: 2px;\n    background: ",";\n    transition: width 1s cubic-bezier(0.34, 0.04, 0.03, 1.4), background .3s;\n  }\n    \n  span:hover::before {\n    width: 100%;\n  }\n"]);return _templateObject1=function(){return n},n}let Z=y.ZP.div.withConfig({componentId:"sc-6d487db6-0"})(_templateObject(),n=>n.theme.colors.textGray),O=(0,y.ZP)(x()).withConfig({componentId:"sc-6d487db6-1"})(_templateObject1(),n=>n.theme.colors.accentHover);var pagination=n=>{let e=(0,j.useCallback)(()=>{var e;n.isScrollToTop&&((null===(e=n.scrollRef)||void 0===e?void 0:e.current)?n.scrollRef.current.scrollTo({top:0}):globalThis.scrollTo({top:0}))},[n.isScrollToTop,n.scrollRef]);return(0,r.jsxs)(Z,{...n.elemProps,children:[n.prevPage&&(0,r.jsx)("div",{style:{flex:"1 1 auto"},children:(0,r.jsxs)(O,{href:n.prevPage.link,passHref:!0,style:{justifyContent:"flex-start"},onClick:e,children:[(0,r.jsx)(_.Z,{size:"1em"}),(0,r.jsx)("span",{style:{margin:"0 0.5em"},children:n.prevPage.title})]})}),(0,r.jsx)("span",{children:n.currTitle?n.currTitle.concat(n.maxPage?" / ".concat(n.maxPage):""):""}),n.nextPage&&(0,r.jsx)("div",{style:{flex:"1 1 auto"},children:(0,r.jsxs)(O,{href:n.nextPage.link,passHref:!0,style:{justifyContent:"flex-end"},onClick:e,children:[(0,r.jsx)("span",{style:{margin:"0 0.5em"},children:n.nextPage.title}),(0,r.jsx)(k.Z,{size:"1em"})]})})]})},P=t(3797),C=t(1737),M=t(1702),S=t(8852),z=t(3318),T=t(593),I=t(3433);function _id_templateObject(){let n=(0,i._)(["\n  margin-top: 72px;\n  margin: 0 auto;\n  padding: 60px 20px;\n  max-width: 800px;\n  width: 56%;\n\n  .toc-btn {\n    display: none;\n  }\n\n  @media screen and (max-width: 1200px){\n    width: 52%;\n  }\n\n  @media screen and (max-width: 1000px){\n    width: 85%;\n    max-width: 700px;\n    .toc-btn {\n      display: unset;\n    }\n  }\n\n  @media screen and (max-width: 580px) {\n    padding: 48px 20px;\n    width: 100%;\n  }\n"]);return _id_templateObject=function(){return n},n}function _id_templateObject1(){let n=(0,i._)(["\n  position: fixed;\n  top: ",";\n  animation: "," 0.3s ease;\n  will-change: top;\n  transition: top 0.3s ease;\n\n  max-width: 18rem;\n  max-height: 80vh;\n  padding: 0 1rem;\n  line-height: 1.7rem; /* 与正文同 line-height */\n  overflow: auto;\n\n  left: 78%;\n  width: 22%;\n\n  .close-btn {\n    display:none;\n    z-index: 1;\n  }\n\n  @media screen and (max-width: 1200px){\n    left: 76%;\n    width: 24%;\n  }\n\n  @media screen and (max-width: 1000px) {\n    top: 79px;\n    left: unset;\n    animation: unset;\n\n    ","\n    width:380px;\n    height: 100%;\n    padding-bottom: 1rem;\n    \n    right: 0;\n    transition: transform .3s ease;\n    transform: ",";\n\n    .close-btn {\n      position: sticky;\n      top:0;\n      background: inherit;\n\n      display: flex;\n      font-weight: bold;\n      justify-content: space-between;\n      align-items: center;\n\n      padding: 1rem 0;\n      ","\n      color: ",";\n      font-size: 1rem;\n      cursor:pointer;\n    }\n    .close-btn:hover{\n      color: ",";\n    }\n  }\n\n  @media screen and (max-width: 580px) {\n    top: unset;\n    height: unset;\n    width: 100%;\n    transition: transform .3s ease;\n    transform: ",";\n  }\n\n"]);return _id_templateObject1=function(){return n},n}function _templateObject2(){let n=(0,i._)(["\n  text-align: center;\n  max-width: 12em;\n  margin: 0 auto;\n"]);return _templateObject2=function(){return n},n}function _templateObject3(){let n=(0,i._)(["\n  text-align: center;\n  margin-top: 1rem;\n  padding-bottom: 1.5rem;\n  border-bottom: 2px dotted ",";\n  margin-bottom: 1.5rem;\n\n  .date {\n    font-weight: bold;\n  }\n\n  .category {\n    margin-top: 0.25rem;\n    font-size: 0.9rem;\n    line-height: 1;\n  }\n\n  .tag {\n    margin-top: 1rem;\n    font-size: 0.9rem;\n    line-height: 1;\n  }\n"]);return _templateObject3=function(){return n},n}function _templateObject4(){let n=(0,i._)(["\n  transition: opacity .3s, color .3s;\n  color: ",";\n\n  &:hover {\n    color: ",";\n  }\n"]);return _templateObject4=function(){return n},n}function _templateObject5(){let n=(0,i._)(["\n  transition: background .3s, color .3s;\n  color: ",";\n  background: ",";\n  display: inline-block;\n  padding: 0.5rem 0.625rem;\n  margin: 0 3px;\n  border-radius: 1rem;\n\n  svg {\n    margin-right: 3px;\n  }\n  &:hover {\n    background: ",";\n  }\n"]);return _templateObject5=function(){return n},n}function _templateObject6(){let n=(0,i._)(["\n  background: ",";\n  padding: 1.25rem;\n  border-radius: 1rem;\n"]);return _templateObject6=function(){return n},n}function _templateObject7(){let n=(0,i._)(["\n  position: relative;\n  max-height: calc(100vh - 120px);\n  overflow-y: auto;\n"]);return _templateObject7=function(){return n},n}function _templateObject8(){let n=(0,i._)(["\n  display: block;\n  padding-left: ",'em;\n\n  &::before {\n    content: "•";\n    color: ',";\n    left: ","em;\n    position: absolute;\n  }\n\n  & span {\n    transition: box-shadow .5s;\n  }\n\n  &:hover span {\n    box-shadow: inset 0 -0.5em 0 ",";\n  }\n\n  &.current {\n    font-weight: bold;\n    span {\n      box-shadow: inset 0 -0.5em 0 ",";\n    }\n  }\n\n  @media screen and (max-width: 1000px) {\n    border-bottom: 2px dotted ",";\n    line-height: 2rem;\n\n    &:first-child{\n      border-top: 2px dotted ",";\n    }\n  }\n"]);return _templateObject8=function(){return n},n}let H=h()(()=>Promise.all([t.e(576),t.e(537),t.e(615),t.e(679)]).then(t.bind(t,9679)),{loadableGenerated:{webpack:()=>[9679]}});var N=!0;function Post(n){let{meta:e,mdxcode:t,nextPost:i,prevPost:s,excerpt:m,headings:h}=n,u=(0,b.useRouter)(),[g,x]=(0,j.useState)(!1),[y,_]=(0,j.useState)([]),[k,Z]=(0,j.useState)(-1),[O,z]=(0,j.useState)(!1);(0,j.useEffect)(()=>{let n=h.map(n=>{let e=document.getElementById(n.id);return e?e.getBoundingClientRect().top+window.scrollY-93:void 0});_(n)},[h]);let I=(0,j.useMemo)(()=>(0,M.P)(()=>{let n=globalThis.scrollY;n>300?x(!0):x(!1);let e=n+20;for(let n=0;n<y.length;n++){if(0===n&&e<y[n]){Z(-1);break}if(y[n]&&n+1<y.length&&y[n+1]){if(e>=y[n]&&e<y[n+1]){Z(n);break}}else if(y[n]&&n+1===y.length&&e>=y[n]){Z(n);break}}},50),[y]);(0,S.I)("scroll",I);let N=(0,j.useCallback)((n,e)=>{n.preventDefault(),y[e]&&window.scrollTo({top:y[e],behavior:"smooth"})},[y]),Y=(0,j.useMemo)(()=>e.description?e.description.concat(m):m,[m,e.description]),q=(0,j.useMemo)(()=>(0,r.jsx)(r.Fragment,{children:e.tags.map((n,e)=>(0,r.jsxs)(R,{href:"/tags/".concat(n),passHref:!0,children:[(0,r.jsx)(o.Z,{size:"0.875em"}),n]},n))}),[e.tags]),D=(0,j.useCallback)(n=>{let e="string"==typeof n.tags?[n.tags]:n.tags;return null!==n.keywords&&"string"==typeof n.keywords?e.join().concat(", ").concat(n.keywords.replaceAll("，",", ")):e.join()},[]),W=(0,j.useMemo)(()=>g&&!O,[g,O]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(f(),{children:[(0,r.jsx)("title",{children:e.title}),(0,r.jsx)("meta",{name:"description",content:Y}),(0,r.jsx)("meta",{name:"keywords",content:D(e)}),(0,r.jsx)(w.CommonHead,{})]}),(0,r.jsxs)(P.ZP,{children:[(0,r.jsxs)(E,{children:[(0,r.jsx)($,{children:e.title}),(0,r.jsxs)(A,{children:[(0,r.jsx)("div",{className:"date",children:e.date}),(0,r.jsxs)("div",{className:"category",children:["收录于",(0,r.jsxs)(G,{href:"/categories/".concat(e.categories),passHref:!0,children:[(0,r.jsx)(a.Z,{size:"1.1em",style:{margin:"0 3px",paddingBottom:"0.1em"}}),e.categories]})]}),0!==e.tags.length&&(0,r.jsx)("div",{className:"tag",children:q})]}),(0,r.jsx)(T.j,{children:(0,C.g)(t)}),(0,r.jsxs)("section",{children:[(0,r.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"0.875rem",margin:"4rem 0 0 0"},children:["更新于 ",e.date]}),(0,r.jsxs)("div",{style:{textAlign:"right",opacity:.5,fontSize:"0.875rem"},children:[(0,r.jsx)(c,{size:"1.1em",style:{margin:"0 0.2rem",paddingBottom:"0.1em"}}),(0,r.jsx)("span",{className:"waline-pageview-count","data-path":u.basePath})]})]}),(0,r.jsx)(pagination,{nextPage:i||void 0,prevPage:s||void 0}),(0,r.jsx)(H,{}),(0,r.jsx)(v.Z,{className:"toc-btn",Icon:l.Z,clickHandler:n=>{n.stopPropagation(),z(n=>!n)}}),g&&(0,r.jsx)(v.Z,{Icon:d,clickHandler:n=>{n.stopPropagation(),window.scrollTo({top:0})},style:{bottom:"6rem"}})]}),(0,r.jsxs)(L,{$isMobileSider:O,$isFixedTop:W,children:[(0,r.jsxs)("div",{className:"close-btn",onClick:n=>{n.stopPropagation(),z(n=>!n)},children:["小小の菜单",(0,r.jsx)(p.Z,{size:"1.25em",style:{marginLeft:".5rem"}})]}),(0,r.jsxs)(B,{children:[(0,r.jsx)("div",{style:{fontWeight:"bold"},children:"目录"}),(0,r.jsx)(F,{children:h.length>0?h.map((n,e)=>(0,r.jsx)(X,{className:k===e?"current":void 0,$rank:n.rank,href:"#".concat(n.id),onClick:n=>{N(n,e)},children:(0,r.jsx)("span",{children:n.title})},n.id)):(0,r.jsx)("span",{style:{opacity:"0.6",fontSize:"0.9rem"},children:"这是一篇没有目录的文章。"})})]})]})]})]})}let E=y.ZP.article.withConfig({componentId:"sc-12a98cff-0"})(_id_templateObject()),L=y.ZP.aside.withConfig({componentId:"sc-12a98cff-1"})(_id_templateObject1(),n=>n.$isFixedTop?"63px":"128px",z.ER,I.Cz,n=>n.$isMobileSider?"translateX(0)":"translateX(100%)",n=>n.$isMobileSider?null:"visibility:hidden;",n=>n.theme.colors.uiLineGray,n=>n.theme.colors.accent,n=>n.$isMobileSider?"translateY(0)":"translateY(100%)"),$=y.ZP.h1.withConfig({componentId:"sc-12a98cff-2"})(_templateObject2()),A=y.ZP.div.withConfig({componentId:"sc-12a98cff-3"})(_templateObject3(),n=>n.theme.colors.uiLineGray),G=(0,y.ZP)(x()).withConfig({componentId:"sc-12a98cff-4"})(_templateObject4(),n=>n.theme.colors.textPrimary,n=>n.theme.colors.accent),R=(0,y.ZP)(x()).withConfig({componentId:"sc-12a98cff-5"})(_templateObject5(),n=>n.theme.colors.textSecondary,n=>n.theme.colors.tagBg,n=>n.theme.colors.accentHover),B=y.ZP.nav.withConfig({componentId:"sc-12a98cff-6"})(_templateObject6(),n=>n.theme.colors.floatBg),F=y.ZP.div.withConfig({componentId:"sc-12a98cff-7"})(_templateObject7()),X=(0,y.ZP)(x()).withConfig({componentId:"sc-12a98cff-8"})(_templateObject8(),n=>n.$rank,n=>n.theme.colors.accent,n=>n.$rank-1,n=>n.theme.colors.accentHover,n=>n.theme.colors.accentHover,n=>n.theme.colors.uiLineGray,n=>n.theme.colors.uiLineGray)},3522:function(n,e,t){n.exports=t(3610)},8255:function(n,e,t){"use strict";t.d(e,{K:function(){return run},W:function(){return runSync}});let i=Object.getPrototypeOf(run).constructor;async function run(n,e){return new i(String(n))(e)}function runSync(n,e){return Function(String(n))(e)}}},function(n){n.O(0,[746,797,822,774,888,179],function(){return n(n.s=6512)}),_N_E=n.O()}]);